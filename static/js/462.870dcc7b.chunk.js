"use strict";(self.webpackChunkgoit_react_hw_05_movies_search=self.webpackChunkgoit_react_hw_05_movies_search||[]).push([[462],{510:function(e,t,n){n.d(t,{e:function(){return i}});var r=n(501),c=n(871),a="MovieList_item__tDivI",u="MovieList_link__+cn-g",o=n(184),i=function(e){var t=e.movies,n=(0,c.TH)();return(0,o.jsx)("ul",{children:t.map((function(e){return(0,o.jsx)("li",{className:a,children:(0,o.jsx)(r.rU,{to:"/movies/".concat(e.id),state:{from:n},className:u,children:e.title?e.title:e.name})},e.id)}))})}},462:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var r=n(982),c=n(861),a=n(885),u=n(757),o=n.n(u),i=n(791),s=n(501),f="SearchBox_input__+nuoc",l="SearchBox_button__lPD4d",p=n(184),v=function(e){var t=e.onSubmit,n=(0,i.useState)(""),r=(0,a.Z)(n,2),c=r[0],u=r[1];return(0,p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(c)},children:[(0,p.jsx)("label",{htmlFor:"",children:(0,p.jsx)("input",{type:"text",name:"query",placeholder:"Search movies",value:c,onChange:function(e){var t=e.target.value;u(t)},required:!0,className:f})}),(0,p.jsx)("button",{type:"submit",className:l,children:"Search"})]})},h=n(510),d=n(390),m="Movies_title__MDLXB",_=function(){var e,t=(0,i.useState)(null),n=(0,a.Z)(t,2),u=n[0],f=n[1],l=(0,i.useState)(!1),_=(0,a.Z)(l,2),x=_[0],y=_[1],b=(0,i.useState)(""),w=(0,a.Z)(b,2),k=w[0],j=w[1],S=(0,s.lr)(),Z=(0,a.Z)(S,2),g=Z[0],M=Z[1],q=null!==(e=g.get("query"))&&void 0!==e?e:"";function N(){return N=(0,c.Z)(o().mark((function e(t){var n,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),j(""),e.next=5,d.v.fetchMovies(t);case 5:if(!(n=e.sent).ok){e.next=12;break}return e.next=9,n.json();case 9:return c=e.sent,f((0,r.Z)(c.results)),e.abrupt("return");case 12:return Promise.reject(new Error("There're no movies")),e.abrupt("return");case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0),j(e.t0.message);case 20:return e.prev=20,y(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[0,16,20,23]])}))),N.apply(this,arguments)}(0,i.useEffect)((function(){""!==q&&function(e){N.apply(this,arguments)}(q)}),[q]);var B=!x&&u;return(0,p.jsxs)("div",{children:[(0,p.jsx)("h1",{className:m,children:"Movies"}),(0,p.jsx)(v,{onSubmit:function(e){M({query:e})}}),k&&(0,p.jsxs)("div",{children:["Error: ",k]}),x&&(0,p.jsx)("div",{children:"Loading..."}),B&&(0,p.jsx)(h.e,{movies:u})]})}},390:function(e,t,n){n.d(t,{v:function(){return i}});var r=n(861),c=n(757),a=n.n(c),u="dddf682d6a330b3ee1156a5db67c7481",o="https://api.themoviedb.org/3",i={fetchTrends:function(){var e=(0,r.Z)(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(o,"/trending/all/week?api_key=").concat(u),e.next=3,fetch("".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fetchMovies:function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.split(" ").join("+"),r="".concat(o,"/search/movie?api_key=").concat(u,"&query=").concat(n,"&language=en-US&page=1&include_adult=false"),e.next=4,fetch("".concat(r));case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fetchMovieById:function(){var e=(0,r.Z)(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(o,"/movie/").concat(t,"?api_key=").concat(u),e.next=3,fetch("".concat(n));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fetchMovieCast:function(){var e=(0,r.Z)(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(o,"/movie/").concat(t,"/credits?api_key=").concat(u),e.next=3,fetch("".concat(n));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fetchMovieReviews:function(){var e=(0,r.Z)(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(o,"/movie/").concat(t,"/reviews?api_key=").concat(u),e.next=3,fetch("".concat(n));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},982:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(907);var c=n(181);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,c.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=462.870dcc7b.chunk.js.map