{"version":3,"file":"static/js/462.870dcc7b.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies-search/./src/components/MovieList/MovieList.module.css?6db5","components/MovieList/MovieList.jsx","webpack://goit-react-hw-05-movies-search/./src/components/SearchBox/SearchBox.module.css?45fa","components/SearchBox/SearchBox.jsx","webpack://goit-react-hw-05-movies-search/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx","services/api.js","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"item\":\"MovieList_item__tDivI\",\"link\":\"MovieList_link__+cn-g\"};","import { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport s from './MovieList.module.css';\n\nconst MovieList = ({ movies }) => {\n  const location = useLocation();\n\n  return (\n    <ul>\n      {movies.map(item => {\n        return (\n          <li key={item.id} className={s.item}>\n            <Link\n              to={`/movies/${item.id}`}\n              state={{ from: location }}\n              className={s.link}\n            >\n              {item.title ? item.title : item.name}\n            </Link>\n          </li>\n        );\n      })}\n    </ul>\n  );\n};\n\nMovieList.propTypes = {\n  movies: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nexport { MovieList };\n","// extracted by mini-css-extract-plugin\nexport default {\"input\":\"SearchBox_input__+nuoc\",\"button\":\"SearchBox_button__lPD4d\"};","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './SearchBox.module.css';\n\nconst SearchBox = ({ onSubmit }) => {\n  const [searchQuery, setSearchQuery] = useState('');\n\n  function handleInputChange(e) {\n    const { value } = e.target;\n    setSearchQuery(value);\n  }\n\n  function handleFormSubmit(e) {\n    e.preventDefault();\n    onSubmit(searchQuery);\n  }\n\n  return (\n    <form onSubmit={handleFormSubmit}>\n      <label htmlFor=\"\">\n        <input\n          type=\"text\"\n          name=\"query\"\n          placeholder=\"Search movies\"\n          value={searchQuery}\n          onChange={handleInputChange}\n          required\n          className={s.input}\n        />\n      </label>\n      <button type=\"submit\" className={s.button}>\n        Search\n      </button>\n    </form>\n  );\n};\n\nSearchBox.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport { SearchBox };\n","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"Movies_title__MDLXB\"};","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport { SearchBox } from 'components/SearchBox/SearchBox';\nimport { MovieList } from '../../components/MovieList/MovieList';\nimport { UserAPI } from '../../services/api';\nimport s from './Movies.module.css';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const movieName = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    if (movieName === '') return;\n    fetchMovies(movieName);\n\n    // eslint-disable-next-line\n  }, [movieName]);\n\n  function onSearchSubmit(searchQuery) {\n    setSearchParams({ query: searchQuery });\n  }\n\n  async function fetchMovies(movieName) {\n    try {\n      setIsLoading(true);\n      setError('');\n\n      const moviesResponse = await UserAPI.fetchMovies(movieName);\n\n      if (moviesResponse.ok) {\n        const movies = await moviesResponse.json();\n\n        setMovies([...movies.results]);\n        return;\n      }\n\n      Promise.reject(new Error(`There're no movies`));\n      return;\n    } catch (error) {\n      console.log(error);\n      setError(error.message);\n    } finally {\n      setIsLoading(false);\n    }\n  }\n\n  const showMovies = !isLoading && movies;\n\n  return (\n    <div>\n      <h1 className={s.title}>Movies</h1>\n      <SearchBox onSubmit={onSearchSubmit} />\n      {error && <div>Error: {error}</div>}\n      {isLoading && <div>Loading...</div>}\n\n      {showMovies && <MovieList movies={movies} />}\n    </div>\n  );\n};\n\nexport default Movies;\n","const API_KEY = 'dddf682d6a330b3ee1156a5db67c7481';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nexport const UserAPI = {\n  fetchTrends: async () => {\n    const url = `${BASE_URL}/trending/all/week?api_key=${API_KEY}`;\n    const response = await fetch(`${url}`);\n    return response;\n  },\n  fetchMovies: async searchQuery => {\n    const requestName = searchQuery.split(' ').join('+');\n    const url = `${BASE_URL}/search/movie?api_key=${API_KEY}&query=${requestName}&language=en-US&page=1&include_adult=false`;\n    const response = await fetch(`${url}`);\n    return response;\n  },\n  fetchMovieById: async id => {\n    const url = `${BASE_URL}/movie/${id}?api_key=${API_KEY}`;\n    const response = await fetch(`${url}`);\n    return response;\n  },\n  fetchMovieCast: async id => {\n    const url = `${BASE_URL}/movie/${id}/credits?api_key=${API_KEY}`;\n    const response = await fetch(`${url}`);\n    return response;\n  },\n  fetchMovieReviews: async id => {\n    const url = `${BASE_URL}/movie/${id}/reviews?api_key=${API_KEY}`;\n    const response = await fetch(`${url}`);\n    return response;\n  },\n};\n","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"names":["MovieList","movies","location","useLocation","map","item","className","s","to","id","state","from","title","name","SearchBox","onSubmit","useState","searchQuery","setSearchQuery","e","preventDefault","htmlFor","type","placeholder","value","onChange","target","required","setMovies","isLoading","setIsLoading","error","setError","useSearchParams","searchParams","setSearchParams","movieName","get","UserAPI","moviesResponse","ok","json","results","Promise","reject","Error","console","log","message","useEffect","fetchMovies","showMovies","query","API_KEY","BASE_URL","fetchTrends","url","fetch","response","requestName","split","join","fetchMovieById","fetchMovieCast","fetchMovieReviews","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","unsupportedIterableToArray","TypeError"],"sourceRoot":""}