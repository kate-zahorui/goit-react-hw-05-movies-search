"use strict";(self.webpackChunkgoit_react_hw_05_movies_search=self.webpackChunkgoit_react_hw_05_movies_search||[]).push([[936],{510:function(e,t,n){n.d(t,{e:function(){return o}});var r=n(501),c=n(871),a="MovieList_item__tDivI",i="MovieList_link__+cn-g",u=n(184),o=function(e){var t=e.movies,n=(0,c.TH)();return(0,u.jsx)("ul",{children:t.map((function(e){return(0,u.jsx)("li",{className:a,children:(0,u.jsx)(r.rU,{to:"/movies/".concat(e.id),state:{from:n},className:i,children:e.title?e.title:e.name})},e.id)}))})}},936:function(e,t,n){n.r(t),n.d(t,{default:function(){return l}});var r=n(982),c=n(861),a=n(885),i=n(757),u=n.n(i),o=n(791),s=n(390),f=n(510),p="Home_title__L087v",v=n(184),l=function(){var e=(0,o.useState)(null),t=(0,a.Z)(e,2),n=t[0],i=t[1],l=(0,o.useState)(!1),h=(0,a.Z)(l,2),d=h[0],m=h[1],_=(0,o.useState)(""),x=(0,a.Z)(_,2),y=x[0],w=x[1];function b(){return(b=(0,c.Z)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),w(""),e.next=5,s.v.fetchTrends();case 5:if(!(t=e.sent).ok){e.next=12;break}return e.next=9,t.json();case 9:return n=e.sent,i((0,r.Z)(n.results)),e.abrupt("return");case 12:return e.next=14,Promise.reject(new Error("There're no movies"));case 14:return e.abrupt("return");case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0),w(e.t0.message);case 21:return e.prev=21,m(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[0,17,21,24]])})))).apply(this,arguments)}(0,o.useEffect)((function(){!function(){b.apply(this,arguments)}()}),[]);var k=!d&&n;return(0,v.jsxs)("div",{children:[(0,v.jsx)("h1",{className:p,children:"Trending"}),y&&(0,v.jsxs)("div",{children:["Error: ",y]}),d&&(0,v.jsx)("div",{children:"Loading..."}),k&&(0,v.jsx)(f.e,{movies:n})]})}},390:function(e,t,n){n.d(t,{v:function(){return o}});var r=n(861),c=n(757),a=n.n(c),i="dddf682d6a330b3ee1156a5db67c7481",u="https://api.themoviedb.org/3",o={fetchTrends:function(){var e=(0,r.Z)(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(u,"/trending/all/week?api_key=").concat(i),e.next=3,fetch("".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fetchMovies:function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.split(" ").join("+"),r="".concat(u,"/search/movie?api_key=").concat(i,"&query=").concat(n,"&language=en-US&page=1&include_adult=false"),e.next=4,fetch("".concat(r));case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fetchMovieById:function(){var e=(0,r.Z)(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(u,"/movie/").concat(t,"?api_key=").concat(i),e.next=3,fetch("".concat(n));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fetchMovieCast:function(){var e=(0,r.Z)(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(u,"/movie/").concat(t,"/credits?api_key=").concat(i),e.next=3,fetch("".concat(n));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fetchMovieReviews:function(){var e=(0,r.Z)(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(u,"/movie/").concat(t,"/reviews?api_key=").concat(i),e.next=3,fetch("".concat(n));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},982:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(907);var c=n(181);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,c.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=936.830d1e3d.chunk.js.map